# Förhindra rm -rf för specifika kataloger (t.ex. hemkatalogen)
function rm() {
  for arg in "$@"; do
    if [[ "$arg" == "--no-preserve-root" ]]; then
      echo "ERROR: Flaggan --no-preserve-root är blockerad. Operation avbruten."
      return 1
    fi
  done

  for path in "$@"; do
    case "$path" in
      /|/*/|/boot|/dev|/etc|/home|/home/$USER|/lib|/lib64|/mnt|/opt|/proc|/root|/run|/sbin|/srv|/sys|/tmp|/usr|/var)
        echo "ERROR: Du försöker ta bort en systemkritisk katalog: $path. Operation avbruten."
        return 1
        ;;
    esac
  done

  command rm "$@"
}

