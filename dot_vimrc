" ================================
" 🌐 General settings
" ================================
set nocompatible              " Använd moderna Vim-beteenden
filetype plugin indent on    " Aktivera plugins och smart indentering
syntax on                    " Syntax highlighting
set encoding=utf-8
set number
set relativenumber
set ruler
set hidden                   " Tillåt att byta buffert utan att spara

" ================================
" 🛠 UI / Quality of Life
" ================================
set mouse=a                 " Möjliggör musanvändning
set showcmd
set cursorline
set wildmenu
set wildmode=longest:full,full
set wrap
set linebreak
set showmatch                " Visa matchande parentes
set scrolloff=5              " Kontext runt cursorn
set timeoutlen=500           " Which buffer keystrokes in ms
" ================================
" ⌨️ Key mappings
" ================================
let g:mapleader="\<Space>"
let g:maplocalleader=','

" Vim specifikans
if !has('nvim')
endif
nnoremap <silent> <leader>      :<c-u>WhichKey '<Space>'<CR>
nnoremap <silent> <localleader> :<c-u>WhichKey  ','<CR>
" Reload vimrc
nnoremap <leader>s :source $MYVIMRC \| :nohlsearch<CR>

if executable('xclip')
  " Kopiera till clipboard
  nnoremap <Leader>y :w !xclip -selection clipboard<CR>

  " Klistra in från clipboard
  nnoremap <Leader>p :r !xclip -selection clipboard -o<CR>
endif

" ================================
" 📝 Indentation
" ================================
set tabstop=2
set shiftwidth=2
set expandtab
set autoindent
set smartindent

" ================================
" 📁 File tree (NERDTree om du vill lägga till senare)
" ================================
" Placeholder: map <leader>n :NERDTreeToggle<CR>

" ================================
" 🔍 Searching
" ================================
set ignorecase
set smartcase
set incsearch
set hlsearch

" ========================================
" 📄 Buffers & Fönster
" ========================================
set splitbelow              " Nya horisontella splits under
set splitright              " Nya vertikala splits till höger

" ========================================
" 🧪 Plugins 
" ========================================
" Exempelvis: vim-plug, dein.vim, eller pack-funktionalitet kan aktiveras här
call plug#begin()
  Plug 'artanikin/vim-synthwave84'
  Plug 'liuchengxu/vim-which-key'
  Plug 'tpope/vim-sensible'
  Plug 'tpope/vim-surround'
  Plug 'tpope/vim-speeddating'
  Plug 'tpope/vim-repeat'
call plug#end()

" ========================================
" 🧩 Ladda funktioner från autoload
" ========================================
" Keybindings from plugins
" https://www.vim.org/scripts/script.php?script_id=1697
" Relevanta nummer i insert mode
call line_numbers#ToggleLineNumbers()
call which_key_mapping#Init()

" ========================================
" 🧷 Terminal 
" ========================================
syntax enable
if exists('term')
  if has('xterm-256color')
    set term=xterm-256color
  elseif has('screen-256color')
    set term=screen-256color
  endif
endif
if has('termguicolors')
  set termguicolors
endif
set background=dark
colorscheme synthwave84
" transparent bg
autocmd vimenter * hi Normal guibg=NONE ctermbg=NONE
autocmd colorscheme * hi Normal guibg=NONE ctermbg=NONE
